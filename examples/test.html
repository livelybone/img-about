<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ImgAbout</title>
  <script src="./promise-polyfill.js"></script>
  <script src="../lib/umd/index.js"></script>
</head>
<body>
<input type="file" accept="image/*" id="module">

<img id="img" onload="log()">

<script>
var module = document.getElementById('module')
// do something ...
module.addEventListener('change', function (e) {
  console.log(e.target, e.target.files, e.originalEvent.dataTransfer)
  var file = e.target.files[0]
  console.log(file)
  ImgAbout.imgCompress(file, {
    compressType: 'fixedWidth',
    quality: 0.8,
    toBlob: true
  }).then(function (val) {
    console.log(val)
    // document.getElementById('img').src = val
    // console.log(document.getElementById('img').complete)
  })
})

function log() {
  console.log('loaded')
}

ImgAbout.getNaturalSize('http://img95.699pic.com/photo/50038/1181.jpg_wh300.jpg')
  .then(function (size) {
    console.log(size.width, size.height)
  })
</script>
</body>
</html>
